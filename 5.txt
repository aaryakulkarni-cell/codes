  Named PL/SQL Block: PL/SQL Stored Procedure and Stored Function. 
Write a Stored Procedure namely proc_Grade for the categorization of student. If marks scored by 
students in examination is <=1500 and marks>=990 then student will be placed in distinction 
category if marks scored are between 989 and 900 category is first class, if marks 899 and 825 
category is Higher Second Class.
Write a PL/SQL block to use procedure created with above requirement. 
Stud_Marks(name, total_marks) Result(Roll,Name, Class)
Note: Instructor will frame the problem statement for writing stored procedure and Function in 
line with above statement.


Stored procedure - 

-- Create database
CREATE DATABASE student_grades;
USE student_grades;

-- Table to store student marks
CREATE TABLE Stud_Marks (
    Roll INT,
    Name VARCHAR(30),
    Total_Marks INT
);

-- Table to store results after procedure execution
CREATE TABLE Result (
    Roll INT,
    Name VARCHAR(30),
    Class VARCHAR(30)
);

-- Insert sample data
INSERT INTO Stud_Marks VALUES (1, 'Aarya', 1200);
INSERT INTO Stud_Marks VALUES (2, 'Krushna', 950);
INSERT INTO Stud_Marks VALUES (3, 'Yash', 860);
INSERT INTO Stud_Marks VALUES (4, 'Aniket', 780);

-- Create stored procedure
DROP PROCEDURE IF EXISTS proc_grade;

DELIMITER //

CREATE PROCEDURE proc_grade(
    IN p_roll INT,
    IN p_name VARCHAR(30),
    IN p_marks INT
)
BEGIN
    DECLARE v_class VARCHAR(30);
    
    -- Decide class based on total marks
    IF p_marks BETWEEN 990 AND 1500 THEN
        SET v_class := 'Distinction';
    ELSEIF p_marks BETWEEN 900 AND 989 THEN
        SET v_class := 'First Class';
    ELSEIF p_marks BETWEEN 825 AND 899 THEN
        SET v_class := 'Higher Second Class';
    ELSE
        SET v_class := 'Fail';
    END IF;

    -- Insert result into Result table
    INSERT INTO Result (roll, name, class)
    VALUES (p_roll, p_name, v_class);
END//

DELIMITER ;

-- Call the procedure for each student
CALL proc_grade(1, 'Aarya', 1200);
CALL proc_grade(2, 'Krushna', 950);
CALL proc_grade(3, 'Yash', 860);
CALL proc_grade(4, 'Aniket', 780);

-- Show the results
SELECT * FROM Result;

-- Show original marks
SELECT * FROM Stud_Marks;

Stored function - 

-- Create database
CREATE DATABASE student_grades;
USE student_grades;

-- Table to store student marks
CREATE TABLE Stud_Marks (
    Roll INT,
    Name VARCHAR(30),
    Total_Marks INT
);

-- Insert sample data
INSERT INTO Stud_Marks VALUES 
(1, 'Aarya', 1200),
(2, 'Krushna', 950),
(3, 'Yash', 860),
(4, 'Aniket', 780);

-- Create stored FUNCTION (instead of procedure)
DROP FUNCTION IF EXISTS get_student_grade;

DELIMITER //

CREATE FUNCTION get_student_grade(p_marks INT) 
RETURNS VARCHAR(30)
DETERMINISTIC
BEGIN
    DECLARE v_grade VARCHAR(30);
    
    -- Decide grade based on marks
    IF p_marks BETWEEN 990 AND 1500 THEN
        SET v_grade := 'Distinction';
    ELSEIF p_marks BETWEEN 900 AND 989 THEN
        SET v_grade := 'First Class';
    ELSEIF p_marks BETWEEN 825 AND 899 THEN
        SET v_grade := 'Higher Second Class';
    ELSE
        SET v_grade := 'Fail';
    END IF;
    
    RETURN v_grade;
END//

DELIMITER ;

-- Use the function in SELECT queries
SELECT 
    Roll,
    Name,
    Total_Marks,
    get_student_grade(Total_Marks) AS Grade
FROM Stud_Marks;